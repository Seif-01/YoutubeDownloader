<Window x:Class="YouTubeDownloader.VideoPreviewDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Quality" 
        Height="650" 
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">
    
    <Window.Resources>
        <LinearGradientBrush x:Key="BlueGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#007AFF" Offset="0"/>
            <GradientStop Color="#0051D5" Offset="1"/>
        </LinearGradientBrush>
        
        <Style x:Key="QualityButton" TargetType="RadioButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="border"
                                Background="White"
                                BorderBrush="#E2E8F0"
                                BorderThickness="2"
                                CornerRadius="12"
                                Padding="20,15"
                                Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <Ellipse x:Name="radio" 
                                        Grid.Column="0"
                                        Width="20" 
                                        Height="20" 
                                        Stroke="#94A3B8" 
                                        StrokeThickness="2"
                                        Fill="White"
                                        VerticalAlignment="Center"
                                        Margin="0,0,15,0"/>
                                
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock x:Name="resolution" 
                                              FontSize="16" 
                                              FontWeight="SemiBold"
                                              Foreground="#1E293B"/>
                                    <TextBlock x:Name="filesize" 
                                              FontSize="13" 
                                              Foreground="#64748B"
                                              Margin="0,4,0,0"/>
                                </StackPanel>
                                
                                <TextBlock x:Name="badge"
                                          Grid.Column="2"
                                          FontSize="11"
                                          FontWeight="Bold"
                                          Padding="8,4"
                                          VerticalAlignment="Center"
                                          Visibility="Collapsed"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#007AFF"/>
                                <Setter TargetName="border" Property="Background">
                                    <Setter.Value>
                                        <SolidColorBrush Color="#E6F2FF"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="radio" Property="Fill">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#007AFF" Offset="0"/>
                                            <GradientStop Color="#0051D5" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="radio" Property="Stroke" Value="#007AFF"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#66B3FF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Border Background="#FFFAFA" CornerRadius="20">
        <Border.Effect>
            <DropShadowEffect BlurRadius="30" ShadowDepth="0" Opacity="0.3" Color="#3B82F6"/>
        </Border.Effect>
        
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="Video Preview" 
                          FontSize="24" 
                          FontWeight="Bold" 
                          Foreground="#1A1A2E"/>
                <TextBlock x:Name="TitleText"
                          Text="Video Title" 
                          FontSize="15" 
                          Foreground="#64748B"
                          TextWrapping="Wrap"
                          Margin="0,8,0,0"/>
            </StackPanel>
            
            <!-- Thumbnail -->
            <Border Grid.Row="1" 
                    Height="200" 
                    CornerRadius="15"
                    Margin="0,0,0,25"
                    Background="#E2E8F0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="5" Opacity="0.15" Color="#000000"/>
                </Border.Effect>
                <Image x:Name="ThumbnailImage" 
                       Stretch="UniformToFill"/>
            </Border>
            
            <!-- Quality Selection -->
            <ScrollViewer Grid.Row="2" 
                         VerticalScrollBarVisibility="Auto"
                         Margin="0,0,0,20">
                <StackPanel x:Name="QualityPanel">
                    <TextBlock Text="Select Quality" 
                              FontSize="16" 
                              FontWeight="SemiBold" 
                              Foreground="#1E293B"
                              Margin="0,0,0,15"/>
                </StackPanel>
            </ScrollViewer>
            
            <!-- Buttons -->
            <Grid Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Button x:Name="CancelButton"
                        Grid.Column="0"
                        Content="Cancel"
                        Height="45"
                        FontSize="15"
                        FontWeight="SemiBold"
                        Background="#E2E8F0"
                        Foreground="#475569"
                        BorderThickness="0"
                        Margin="0,0,10,0"
                        Cursor="Hand"
                        Click="CancelButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="12"/>
                        </Style>
                    </Button.Resources>
                </Button>
                
                <Button x:Name="DownloadButton"
                        Grid.Column="1"
                        Content="Download"
                        Height="45"
                        FontSize="15"
                        FontWeight="SemiBold"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="10,0,0,0"
                        Cursor="Hand"
                        Click="DownloadButton_Click">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#3B82F6" Offset="0"/>
                            <GradientStop Color="#2563EB" Offset="1"/>
                        </LinearGradientBrush>
                    </Button.Background>
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="12"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </Grid>
        </Grid>
    </Border>
</Window>
